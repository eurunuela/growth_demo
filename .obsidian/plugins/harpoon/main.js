/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// src/main.ts
var main_exports = {};
__export(main_exports, {
  default: () => HarpoonPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian3 = require("obsidian");

// src/utils.ts
var import_obsidian = require("obsidian");

// src/constants.ts
var MAX_ATTEMPTS = 10;
var CACHE_FILE = "harpoon-cache.json";

// src/utils.ts
var HarpoonUtils = class {
  constructor(app) {
    this.isOpen = false;
    this.hookedFiles = [];
    this.app = app;
  }
  onOpen() {
    this.isOpen = true;
  }
  onClose() {
    this.isOpen = false;
  }
  getLeaf() {
    return this.app.workspace.getLeaf();
  }
  // Checks until the editor is loaded and active then jumps to the cursor
  editorIsLoaded(cb) {
    var _a;
    if ((_a = this.app.workspace) == null ? void 0 : _a.activeEditor) {
      cb && cb();
      this.jumpToCursor();
      return true;
    } else {
      setTimeout(() => this.editorIsLoaded(), 100);
      return false;
    }
  }
  getActiveFile() {
    return this.app.workspace.getActiveFile();
  }
  getEditor() {
    var _a;
    return (_a = this.app.workspace.activeEditor) == null ? void 0 : _a.editor;
  }
  getHookedFile(filepath) {
    const hookedFile = this.pathToFile(filepath);
    return hookedFile;
  }
  getCursorPos() {
    const editor = this.getEditor();
    return editor && (editor == null ? void 0 : editor.getCursor());
  }
  setCursorPos(cursor) {
    const editor = this.getEditor();
    editor == null ? void 0 : editor.setCursor(cursor);
  }
  onChooseItem(file) {
    const hookedFile = this.getHookedFile(file.path);
    this.getLeaf().openFile(hookedFile);
    this.updateFile(this.getActiveFile());
    this.jumpToCursor();
  }
  pathToFile(filepath) {
    const file = this.app.vault.getAbstractFileByPath(filepath);
    if (file instanceof import_obsidian.TFile)
      return file;
    return null;
  }
  // Cursor handling
  async jumpToCursor() {
    let activeFile = null;
    let attempts = 0;
    while (!activeFile && attempts < MAX_ATTEMPTS) {
      activeFile = this.getActiveFile();
      attempts++;
    }
    if (!activeFile) {
      console.log("Failed to get the active file.");
      return;
    }
    const file = this.hookedFiles.find(
      (f) => f.path === (activeFile == null ? void 0 : activeFile.path)
    );
    if (!file) {
      console.log("Active file is not found in the hooked files.");
      return;
    }
    this.setCursorPos(file.cursor);
  }
  async updateFile(file) {
    return this.hookedFiles.map((f) => {
      if (f.path === file.path) {
        f.cursor = this.getCursorPos();
      }
    });
  }
  async wait(ms) {
    return new Promise((resolve) => setTimeout(resolve, ms));
  }
};

// src/harpoon_modal.ts
var import_obsidian2 = require("obsidian");
var HarpoonModal = class extends import_obsidian2.Modal {
  constructor(app, writeToCache, utils) {
    super(app);
    this.hookedFileIdx = 0;
    this.lastKeyPressTime = 0;
    this.hookedFiles = utils.hookedFiles;
    this.writeToCache = writeToCache;
    this.utils = utils;
  }
  // Lifecycle methods
  onOpen() {
    this.utils.isOpen = true;
    this.setupUI();
    this.renderHookedFiles();
  }
  onClose() {
    this.utils.isOpen = false;
    this.contentEl.empty();
  }
  // UI helper methods
  setupUI() {
    this.titleEl.setText("Harpoon");
    this.titleEl.className = "inline-title";
    this.modalEl.tabIndex = 0;
  }
  renderHookedFiles() {
    this.contentEl.empty();
    if (!this.hookedFiles.length) {
      this.contentEl.createEl("p", { text: "No hooked files" });
      return;
    }
    this.hookedFiles.forEach((hookedFile, idx) => {
      const hookedEl = this.contentEl.createEl("div", {
        text: `${idx + 1}. ${hookedFile.path}`,
        cls: "hooked-file tree-item-self is-clickable nav-file-title"
      });
      hookedEl.dataset.id = `hooked-file-${idx}`;
      hookedEl.id = `hooked-file-${idx}`;
    });
    this.hookedFileIdx = 0;
    this.highlightHookedFile(0);
  }
  highlightHookedFile(idx) {
    const hookedElements = document.getElementsByClassName("hooked-file");
    Array.from(hookedElements).forEach((element) => {
      element.classList.remove("is-active");
    });
    const hookedEl = document.getElementById(`hooked-file-${idx}`);
    hookedEl == null ? void 0 : hookedEl.classList.add("is-active");
  }
  // Action handlers
  handleSelection(index) {
    var _a;
    const isNotActive = ((_a = this.utils.getActiveFile()) == null ? void 0 : _a.path) !== this.hookedFiles[index].path;
    if (isNotActive) {
      const fileToOpen = this.utils.getHookedFile(
        this.hookedFiles[index].path
      );
      this.utils.getLeaf().openFile(fileToOpen);
      this.utils.jumpToCursor();
      this.close();
      return;
    }
    this.close();
  }
  removeFromHarpoon(idx) {
    if (idx >= 0 && idx < this.hookedFiles.length) {
      this.lastRemoved = this.hookedFiles.splice(idx, 1)[0];
      this.writeToCache(this.hookedFiles);
      this.renderHookedFiles();
    }
  }
  insertFileAt(pos) {
    if (this.lastRemoved && !this.hookedFiles.includes(this.lastRemoved) && this.hookedFiles.length <= 4) {
      this.hookedFiles.splice(pos, 0, this.lastRemoved);
      this.writeToCache(this.hookedFiles);
      this.renderHookedFiles();
    }
  }
  moveSelection(direction) {
    this.hookedFileIdx = Math.max(
      0,
      Math.min(this.hookedFileIdx + direction, 3)
    );
  }
  resetSelection() {
    this.hookedFileIdx = this.hookedFileIdx === 0 ? this.hookedFiles.length - 1 : 0;
  }
};

// src/main.ts
var DEFAULT_SETTINGS = {
  fileOne: null,
  fileTwo: null,
  fileThree: null,
  fileFour: null
};
var HarpoonPlugin = class extends import_obsidian3.Plugin {
  constructor(app, manifest) {
    super(app, manifest);
    this.isLoaded = false;
    this.utils = new HarpoonUtils(app);
  }
  onload() {
    this.loadSettings();
    this.loadHarpoonCache();
    this.registerCommands();
    this.registerDomEvents();
    this.utils.editorIsLoaded();
  }
  loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS);
  }
  registerCommands() {
    this.addCommand({
      id: "open",
      name: "Open file list",
      callback: () => {
        this.modal = new HarpoonModal(
          this.app,
          (hFiles) => this.writeHarpoonCache(hFiles),
          this.utils
        );
        this.modal.open();
      }
    });
    this.addCommand({
      id: "add",
      name: "Add file to list",
      callback: () => {
        const file = this.utils.getActiveFile();
        if (file) {
          this.addToHarpoon(file);
          return;
        }
        this.showInStatusBar(`There was no file to add.`);
      }
    });
    const goToFiles = [
      { id: 1, name: "Go To File 1" },
      { id: 2, name: "Go To File 2" },
      { id: 3, name: "Go To File 3" },
      { id: 4, name: "Go To File 4" }
    ];
    for (const file of goToFiles) {
      this.addCommand({
        id: `go-to-${file.id}`,
        name: `${file.name}`,
        callback: () => {
          this.utils.onChooseItem(
            this.utils.hookedFiles[file.id - 1]
          );
          setTimeout(() => {
            this.utils.jumpToCursor();
          }, 100);
        }
      });
    }
  }
  registerDomEvents() {
    this.registerDomEvent(
      document,
      "keydown",
      this.handleKeyDown.bind(this)
    );
  }
  handleKeyDown(evt) {
    const { modal } = this;
    if (!modal || !this.utils.isOpen)
      return;
    if (evt.ctrlKey && evt.shiftKey && evt.code === "KeyD" /* D */) {
      modal.close();
    } else if (evt.ctrlKey) {
      this.handleCtrlKeyCommands(evt);
    } else {
      this.handleRegularCommands(evt);
    }
  }
  handleCtrlKeyCommands(evt) {
    const { modal } = this;
    switch (evt.code) {
      case "KeyH" /* H */:
        modal.handleSelection(0);
        break;
      case "KeyT" /* T */:
        modal.handleSelection(1);
        break;
      case "KeyN" /* N */:
        modal.handleSelection(2);
        break;
      case "KeyS" /* S */:
        modal.handleSelection(3);
        break;
    }
  }
  handleRegularCommands(evt) {
    const { modal } = this;
    switch (evt.code) {
      case "Enter" /* Enter */:
        evt.preventDefault();
        modal.handleSelection(modal.hookedFileIdx);
        break;
      case "KeyD" /* D */:
        const currentTime = new Date().getTime();
        if (currentTime - modal.lastKeyPressTime <= 500) {
          modal.removeFromHarpoon(modal.hookedFileIdx);
          break;
        }
        modal.lastKeyPressTime = currentTime;
        break;
      case "KeyP" /* P */:
        if (evt.shiftKey) {
          modal.insertFileAt(modal.hookedFileIdx);
        } else {
          modal.insertFileAt(modal.hookedFileIdx + 1);
        }
        break;
      case "ArrowDown" /* ArrowDown */:
      case "KeyJ" /* J */:
        evt.preventDefault();
        if (modal.hookedFileIdx === this.utils.hookedFiles.length - 1) {
          modal.resetSelection();
          modal.highlightHookedFile(modal.hookedFileIdx);
        } else {
          modal.moveSelection(1 /* Down */);
          modal.highlightHookedFile(modal.hookedFileIdx);
        }
        break;
      case "ArrowUp" /* ArrowUp */:
      case "KeyK" /* K */:
        evt.preventDefault();
        if (modal.hookedFileIdx === 0) {
          modal.resetSelection();
          modal.highlightHookedFile(modal.hookedFileIdx);
        } else {
          modal.moveSelection(-1 /* Up */);
          modal.highlightHookedFile(modal.hookedFileIdx);
        }
        break;
      default:
        break;
    }
  }
  loadHarpoonCache() {
    console.log("Loading file");
    this.app.vault.adapter.read(CACHE_FILE).then((content) => {
      console.log("Loaded file");
      this.utils.hookedFiles = JSON.parse(content);
    }).catch(() => {
      console.log("No file found, building...");
      this.writeHarpoonCache();
    });
  }
  // Updates the cache file and the hookedFiles
  writeHarpoonCache(hookedFiles = null) {
    this.app.vault.adapter.write(
      CACHE_FILE,
      JSON.stringify(this.utils.hookedFiles, null, 2)
    );
    if (hookedFiles) {
      this.utils.hookedFiles = hookedFiles;
    }
  }
  async addToHarpoon(file) {
    if (this.utils.hookedFiles.some((f) => f.path === file.path)) {
      return;
    }
    if (this.utils.hookedFiles.length <= 4) {
      this.utils.hookedFiles.push({
        ctime: file.stat.ctime,
        path: file.path,
        title: file.name,
        cursor: this.utils.getCursorPos()
      });
      this.writeHarpoonCache();
      this.showInStatusBar(`File ${file.name} added to harpoon`);
    }
  }
  // Visual queues
  showInStatusBar(text, time = 5e3) {
    const statusBarItemEl = this.addStatusBarItem();
    statusBarItemEl.setText(text);
    setTimeout(() => {
      statusBarItemEl.remove();
    }, time);
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL21haW4udHMiLCAic3JjL3V0aWxzLnRzIiwgInNyYy9jb25zdGFudHMudHMiLCAic3JjL2hhcnBvb25fbW9kYWwudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImltcG9ydCB7IFBsdWdpbiwgVEZpbGUsIEFwcCwgUGx1Z2luTWFuaWZlc3QgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB7IERpcmVjdGlvbiwgS2V5Q29kZSB9IGZyb20gXCIuL2VudW1zXCI7XG5pbXBvcnQgeyBIYXJwb29uU2V0dGluZ3MsIEhvb2tlZEZpbGUgfSBmcm9tIFwiLi90eXBlc1wiO1xuaW1wb3J0IHsgSGFycG9vblV0aWxzIH0gZnJvbSBcIi4vdXRpbHNcIjtcbmltcG9ydCB7IENBQ0hFX0ZJTEUgfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcblxuaW1wb3J0IEhhcnBvb25Nb2RhbCBmcm9tIFwiLi9oYXJwb29uX21vZGFsXCI7XG5cbmNvbnN0IERFRkFVTFRfU0VUVElOR1M6IEhhcnBvb25TZXR0aW5ncyA9IHtcblx0ZmlsZU9uZTogbnVsbCxcblx0ZmlsZVR3bzogbnVsbCxcblx0ZmlsZVRocmVlOiBudWxsLFxuXHRmaWxlRm91cjogbnVsbCxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEhhcnBvb25QbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xuXHRzZXR0aW5nczogSGFycG9vblNldHRpbmdzO1xuXHRtb2RhbDogSGFycG9vbk1vZGFsO1xuXHR1dGlsczogSGFycG9vblV0aWxzO1xuXHRpc0xvYWRlZCA9IGZhbHNlO1xuXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBtYW5pZmVzdDogUGx1Z2luTWFuaWZlc3QpIHtcblx0XHRzdXBlcihhcHAsIG1hbmlmZXN0KTtcblx0XHR0aGlzLnV0aWxzID0gbmV3IEhhcnBvb25VdGlscyhhcHApO1xuXHR9XG5cblx0b25sb2FkKCkge1xuXHRcdHRoaXMubG9hZFNldHRpbmdzKCk7XG5cdFx0dGhpcy5sb2FkSGFycG9vbkNhY2hlKCk7XG5cdFx0dGhpcy5yZWdpc3RlckNvbW1hbmRzKCk7XG5cdFx0dGhpcy5yZWdpc3RlckRvbUV2ZW50cygpO1xuXG5cdFx0dGhpcy51dGlscy5lZGl0b3JJc0xvYWRlZCgpO1xuXHR9XG5cblx0bG9hZFNldHRpbmdzKCkge1xuXHRcdHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTKTtcblx0fVxuXG5cdHJlZ2lzdGVyQ29tbWFuZHMoKSB7XG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcblx0XHRcdGlkOiBcIm9wZW5cIixcblx0XHRcdG5hbWU6IFwiT3BlbiBmaWxlIGxpc3RcIixcblx0XHRcdGNhbGxiYWNrOiAoKSA9PiB7XG5cdFx0XHRcdHRoaXMubW9kYWwgPSBuZXcgSGFycG9vbk1vZGFsKFxuXHRcdFx0XHRcdHRoaXMuYXBwLFxuXHRcdFx0XHRcdChoRmlsZXM6IEhvb2tlZEZpbGVbXSkgPT4gdGhpcy53cml0ZUhhcnBvb25DYWNoZShoRmlsZXMpLFxuXHRcdFx0XHRcdHRoaXMudXRpbHMsXG5cdFx0XHRcdCk7XG5cdFx0XHRcdHRoaXMubW9kYWwub3BlbigpO1xuXHRcdFx0fSxcblx0XHR9KTtcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0aWQ6IFwiYWRkXCIsXG5cdFx0XHRuYW1lOiBcIkFkZCBmaWxlIHRvIGxpc3RcIixcblx0XHRcdGNhbGxiYWNrOiAoKSA9PiB7XG5cdFx0XHRcdGNvbnN0IGZpbGUgPSB0aGlzLnV0aWxzLmdldEFjdGl2ZUZpbGUoKTtcblxuXHRcdFx0XHRpZiAoZmlsZSkge1xuXHRcdFx0XHRcdHRoaXMuYWRkVG9IYXJwb29uKGZpbGUpO1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcdFx0XHR0aGlzLnNob3dJblN0YXR1c0JhcihgVGhlcmUgd2FzIG5vIGZpbGUgdG8gYWRkLmApO1xuXHRcdFx0fSxcblx0XHR9KTtcblxuXHRcdGNvbnN0IGdvVG9GaWxlcyA9IFtcblx0XHRcdHsgaWQ6IDEsIG5hbWU6IFwiR28gVG8gRmlsZSAxXCIgfSxcblx0XHRcdHsgaWQ6IDIsIG5hbWU6IFwiR28gVG8gRmlsZSAyXCIgfSxcblx0XHRcdHsgaWQ6IDMsIG5hbWU6IFwiR28gVG8gRmlsZSAzXCIgfSxcblx0XHRcdHsgaWQ6IDQsIG5hbWU6IFwiR28gVG8gRmlsZSA0XCIgfSxcblx0XHRdO1xuXG5cdFx0Zm9yIChjb25zdCBmaWxlIG9mIGdvVG9GaWxlcykge1xuXHRcdFx0dGhpcy5hZGRDb21tYW5kKHtcblx0XHRcdFx0aWQ6IGBnby10by0ke2ZpbGUuaWR9YCxcblx0XHRcdFx0bmFtZTogYCR7ZmlsZS5uYW1lfWAsXG5cdFx0XHRcdGNhbGxiYWNrOiAoKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy51dGlscy5vbkNob29zZUl0ZW0oXG5cdFx0XHRcdFx0XHR0aGlzLnV0aWxzLmhvb2tlZEZpbGVzW2ZpbGUuaWQgLSAxXSxcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdC8vIEZvciBzb21lIG9kZCByZWFzb24sIHBvc3NpYmx5IG15IGxhY2sga25vd2xlZGdlLCB0aGVcblx0XHRcdFx0XHQvLyBlZGl0b3IgbWF5YmUgbG9hZGVkIHdoZW4gdGhlIGNhbGxiYWNrIGlzIGNhbGxlZD8uIFNvIElcblx0XHRcdFx0XHQvLyBoYXZlIHRvIHdhaXQgYSBiaXQgYmVmb3JlIGp1bXBpbmcgdG8gdGhlIGN1cnNvci5cblx0XHRcdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdFx0XHRcdHRoaXMudXRpbHMuanVtcFRvQ3Vyc29yKCk7XG5cdFx0XHRcdFx0fSwgMTAwKTtcblx0XHRcdFx0fSxcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXG5cdHJlZ2lzdGVyRG9tRXZlbnRzKCkge1xuXHRcdHRoaXMucmVnaXN0ZXJEb21FdmVudChcblx0XHRcdGRvY3VtZW50LFxuXHRcdFx0XCJrZXlkb3duXCIsXG5cdFx0XHR0aGlzLmhhbmRsZUtleURvd24uYmluZCh0aGlzKSxcblx0XHQpO1xuXHR9XG5cblx0aGFuZGxlS2V5RG93bihldnQ6IEtleWJvYXJkRXZlbnQpIHtcblx0XHRjb25zdCB7IG1vZGFsIH0gPSB0aGlzO1xuXG5cdFx0aWYgKCFtb2RhbCB8fCAhdGhpcy51dGlscy5pc09wZW4pIHJldHVybjtcblxuXHRcdGlmIChldnQuY3RybEtleSAmJiBldnQuc2hpZnRLZXkgJiYgZXZ0LmNvZGUgPT09IEtleUNvZGUuRCkge1xuXHRcdFx0bW9kYWwuY2xvc2UoKTtcblx0XHR9IGVsc2UgaWYgKGV2dC5jdHJsS2V5KSB7XG5cdFx0XHR0aGlzLmhhbmRsZUN0cmxLZXlDb21tYW5kcyhldnQpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLmhhbmRsZVJlZ3VsYXJDb21tYW5kcyhldnQpO1xuXHRcdH1cblx0fVxuXG5cdGhhbmRsZUN0cmxLZXlDb21tYW5kcyhldnQ6IEtleWJvYXJkRXZlbnQpIHtcblx0XHRjb25zdCB7IG1vZGFsIH0gPSB0aGlzO1xuXHRcdHN3aXRjaCAoZXZ0LmNvZGUpIHtcblx0XHRcdGNhc2UgS2V5Q29kZS5IOlxuXHRcdFx0XHRtb2RhbC5oYW5kbGVTZWxlY3Rpb24oMCk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBLZXlDb2RlLlQ6XG5cdFx0XHRcdG1vZGFsLmhhbmRsZVNlbGVjdGlvbigxKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIEtleUNvZGUuTjpcblx0XHRcdFx0bW9kYWwuaGFuZGxlU2VsZWN0aW9uKDIpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgS2V5Q29kZS5TOlxuXHRcdFx0XHRtb2RhbC5oYW5kbGVTZWxlY3Rpb24oMyk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdH1cblx0fVxuXG5cdGhhbmRsZVJlZ3VsYXJDb21tYW5kcyhldnQ6IEtleWJvYXJkRXZlbnQpIHtcblx0XHRjb25zdCB7IG1vZGFsIH0gPSB0aGlzO1xuXHRcdHN3aXRjaCAoZXZ0LmNvZGUpIHtcblx0XHRcdGNhc2UgS2V5Q29kZS5FbnRlcjpcblx0XHRcdFx0ZXZ0LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdG1vZGFsLmhhbmRsZVNlbGVjdGlvbihtb2RhbC5ob29rZWRGaWxlSWR4KTtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgS2V5Q29kZS5EOlxuXHRcdFx0XHRjb25zdCBjdXJyZW50VGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuXHRcdFx0XHRpZiAoY3VycmVudFRpbWUgLSBtb2RhbC5sYXN0S2V5UHJlc3NUaW1lIDw9IDUwMCkge1xuXHRcdFx0XHRcdG1vZGFsLnJlbW92ZUZyb21IYXJwb29uKG1vZGFsLmhvb2tlZEZpbGVJZHgpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHRcdG1vZGFsLmxhc3RLZXlQcmVzc1RpbWUgPSBjdXJyZW50VGltZTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIEtleUNvZGUuUDpcblx0XHRcdFx0aWYgKGV2dC5zaGlmdEtleSkge1xuXHRcdFx0XHRcdG1vZGFsLmluc2VydEZpbGVBdChtb2RhbC5ob29rZWRGaWxlSWR4KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRtb2RhbC5pbnNlcnRGaWxlQXQobW9kYWwuaG9va2VkRmlsZUlkeCArIDEpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBLZXlDb2RlLkFycm93RG93bjpcblx0XHRcdGNhc2UgS2V5Q29kZS5KOlxuXHRcdFx0XHRldnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0aWYgKG1vZGFsLmhvb2tlZEZpbGVJZHggPT09IHRoaXMudXRpbHMuaG9va2VkRmlsZXMubGVuZ3RoIC0gMSkge1xuXHRcdFx0XHRcdG1vZGFsLnJlc2V0U2VsZWN0aW9uKCk7XG5cdFx0XHRcdFx0bW9kYWwuaGlnaGxpZ2h0SG9va2VkRmlsZShtb2RhbC5ob29rZWRGaWxlSWR4KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRtb2RhbC5tb3ZlU2VsZWN0aW9uKERpcmVjdGlvbi5Eb3duKTtcblx0XHRcdFx0XHRtb2RhbC5oaWdobGlnaHRIb29rZWRGaWxlKG1vZGFsLmhvb2tlZEZpbGVJZHgpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBLZXlDb2RlLkFycm93VXA6XG5cdFx0XHRjYXNlIEtleUNvZGUuSzpcblx0XHRcdFx0ZXZ0LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdGlmIChtb2RhbC5ob29rZWRGaWxlSWR4ID09PSAwKSB7XG5cdFx0XHRcdFx0bW9kYWwucmVzZXRTZWxlY3Rpb24oKTtcblx0XHRcdFx0XHRtb2RhbC5oaWdobGlnaHRIb29rZWRGaWxlKG1vZGFsLmhvb2tlZEZpbGVJZHgpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdG1vZGFsLm1vdmVTZWxlY3Rpb24oRGlyZWN0aW9uLlVwKTtcblx0XHRcdFx0XHRtb2RhbC5oaWdobGlnaHRIb29rZWRGaWxlKG1vZGFsLmhvb2tlZEZpbGVJZHgpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0YnJlYWs7XG5cdFx0fVxuXHR9XG5cblx0bG9hZEhhcnBvb25DYWNoZSgpIHtcblx0XHRjb25zb2xlLmxvZyhcIkxvYWRpbmcgZmlsZVwiKTtcblx0XHR0aGlzLmFwcC52YXVsdC5hZGFwdGVyXG5cdFx0XHQucmVhZChDQUNIRV9GSUxFKVxuXHRcdFx0LnRoZW4oKGNvbnRlbnQpID0+IHtcblx0XHRcdFx0Y29uc29sZS5sb2coXCJMb2FkZWQgZmlsZVwiKTtcblx0XHRcdFx0dGhpcy51dGlscy5ob29rZWRGaWxlcyA9IEpTT04ucGFyc2UoY29udGVudCk7XG5cdFx0XHR9KVxuXHRcdFx0LmNhdGNoKCgpID0+IHtcblx0XHRcdFx0Y29uc29sZS5sb2coXCJObyBmaWxlIGZvdW5kLCBidWlsZGluZy4uLlwiKTtcblx0XHRcdFx0dGhpcy53cml0ZUhhcnBvb25DYWNoZSgpO1xuXHRcdFx0fSk7XG5cdH1cblxuXHQvLyBVcGRhdGVzIHRoZSBjYWNoZSBmaWxlIGFuZCB0aGUgaG9va2VkRmlsZXNcblx0d3JpdGVIYXJwb29uQ2FjaGUoaG9va2VkRmlsZXM6IEhvb2tlZEZpbGVbXSB8IG51bGwgPSBudWxsKSB7XG5cdFx0dGhpcy5hcHAudmF1bHQuYWRhcHRlci53cml0ZShcblx0XHRcdENBQ0hFX0ZJTEUsXG5cdFx0XHRKU09OLnN0cmluZ2lmeSh0aGlzLnV0aWxzLmhvb2tlZEZpbGVzLCBudWxsLCAyKSxcblx0XHQpO1xuXG5cdFx0aWYgKGhvb2tlZEZpbGVzKSB7XG5cdFx0XHR0aGlzLnV0aWxzLmhvb2tlZEZpbGVzID0gaG9va2VkRmlsZXM7XG5cdFx0fVxuXHR9XG5cblx0YXN5bmMgYWRkVG9IYXJwb29uKGZpbGU6IFRGaWxlKSB7XG5cdFx0Ly8gSWYgdGhlIGZpbGUgaXMgYWxyZWFkeSBob29rZWQsIGlnbm9yZSBpdFxuXHRcdGlmICh0aGlzLnV0aWxzLmhvb2tlZEZpbGVzLnNvbWUoKGYpID0+IGYucGF0aCA9PT0gZmlsZS5wYXRoKSkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLnV0aWxzLmhvb2tlZEZpbGVzLmxlbmd0aCA8PSA0KSB7XG5cdFx0XHR0aGlzLnV0aWxzLmhvb2tlZEZpbGVzLnB1c2goe1xuXHRcdFx0XHRjdGltZTogZmlsZS5zdGF0LmN0aW1lLFxuXHRcdFx0XHRwYXRoOiBmaWxlLnBhdGgsXG5cdFx0XHRcdHRpdGxlOiBmaWxlLm5hbWUsXG5cdFx0XHRcdGN1cnNvcjogdGhpcy51dGlscy5nZXRDdXJzb3JQb3MoKSxcblx0XHRcdH0pO1xuXHRcdFx0dGhpcy53cml0ZUhhcnBvb25DYWNoZSgpO1xuXHRcdFx0dGhpcy5zaG93SW5TdGF0dXNCYXIoYEZpbGUgJHtmaWxlLm5hbWV9IGFkZGVkIHRvIGhhcnBvb25gKTtcblx0XHR9XG5cdH1cblxuXHQvLyBWaXN1YWwgcXVldWVzXG5cdHNob3dJblN0YXR1c0Jhcih0ZXh0OiBzdHJpbmcsIHRpbWUgPSA1MDAwKSB7XG5cdFx0Y29uc3Qgc3RhdHVzQmFySXRlbUVsID0gdGhpcy5hZGRTdGF0dXNCYXJJdGVtKCk7XG5cdFx0c3RhdHVzQmFySXRlbUVsLnNldFRleHQodGV4dCk7XG5cdFx0c2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHRzdGF0dXNCYXJJdGVtRWwucmVtb3ZlKCk7XG5cdFx0fSwgdGltZSk7XG5cdH1cbn1cbiIsICJpbXBvcnQgeyBBcHAsIEVkaXRvclBvc2l0aW9uLCBURmlsZSB9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IHsgTUFYX0FUVEVNUFRTIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBIb29rZWRGaWxlIH0gZnJvbSBcIi4vdHlwZXNcIjtcblxuZXhwb3J0IGNsYXNzIEhhcnBvb25VdGlscyB7XG5cdGlzT3BlbiA9IGZhbHNlO1xuXHRob29rZWRGaWxlczogSG9va2VkRmlsZVtdID0gW107XG5cdHByaXZhdGUgYXBwOiBBcHA7XG5cblx0Y29uc3RydWN0b3IoYXBwOiBBcHApIHtcblx0XHR0aGlzLmFwcCA9IGFwcDtcblx0fVxuXG5cdG9uT3BlbigpIHtcblx0XHR0aGlzLmlzT3BlbiA9IHRydWU7XG5cdH1cblxuXHRvbkNsb3NlKCkge1xuXHRcdHRoaXMuaXNPcGVuID0gZmFsc2U7XG5cdH1cblxuXHRnZXRMZWFmKCkge1xuXHRcdHJldHVybiB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhZigpO1xuXHR9XG5cdC8vIENoZWNrcyB1bnRpbCB0aGUgZWRpdG9yIGlzIGxvYWRlZCBhbmQgYWN0aXZlIHRoZW4ganVtcHMgdG8gdGhlIGN1cnNvclxuXHRlZGl0b3JJc0xvYWRlZChjYj86ICgpID0+IHZvaWQgfCBQcm9taXNlPHZvaWQ+KSB7XG5cdFx0aWYgKHRoaXMuYXBwLndvcmtzcGFjZT8uYWN0aXZlRWRpdG9yKSB7XG5cdFx0XHRjYiAmJiBjYigpO1xuXHRcdFx0dGhpcy5qdW1wVG9DdXJzb3IoKTtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzZXRUaW1lb3V0KCgpID0+IHRoaXMuZWRpdG9ySXNMb2FkZWQoKSwgMTAwKTtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdH1cblx0Z2V0QWN0aXZlRmlsZSgpIHtcblx0XHRyZXR1cm4gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKTtcblx0fVxuXHRnZXRFZGl0b3IoKSB7XG5cdFx0cmV0dXJuIHRoaXMuYXBwLndvcmtzcGFjZS5hY3RpdmVFZGl0b3I/LmVkaXRvcjtcblx0fVxuXHRnZXRIb29rZWRGaWxlKGZpbGVwYXRoOiBzdHJpbmcpIHtcblx0XHRjb25zdCBob29rZWRGaWxlID0gdGhpcy5wYXRoVG9GaWxlKGZpbGVwYXRoKTtcblx0XHRyZXR1cm4gaG9va2VkRmlsZSBhcyBURmlsZTtcblx0fVxuXHRnZXRDdXJzb3JQb3MoKSB7XG5cdFx0Y29uc3QgZWRpdG9yID0gdGhpcy5nZXRFZGl0b3IoKTtcblx0XHRyZXR1cm4gZWRpdG9yICYmIGVkaXRvcj8uZ2V0Q3Vyc29yKCk7XG5cdH1cblx0c2V0Q3Vyc29yUG9zKGN1cnNvcjogRWRpdG9yUG9zaXRpb24pIHtcblx0XHRjb25zdCBlZGl0b3IgPSB0aGlzLmdldEVkaXRvcigpO1xuXHRcdGVkaXRvcj8uc2V0Q3Vyc29yKGN1cnNvcik7XG5cdH1cblx0b25DaG9vc2VJdGVtKGZpbGU6IEhvb2tlZEZpbGUpOiB2b2lkIHtcblx0XHRjb25zdCBob29rZWRGaWxlID0gdGhpcy5nZXRIb29rZWRGaWxlKGZpbGUucGF0aCk7XG5cdFx0dGhpcy5nZXRMZWFmKCkub3BlbkZpbGUoaG9va2VkRmlsZSk7XG5cdFx0dGhpcy51cGRhdGVGaWxlKHRoaXMuZ2V0QWN0aXZlRmlsZSgpIGFzIFRGaWxlKTtcblx0XHR0aGlzLmp1bXBUb0N1cnNvcigpO1xuXHR9XG5cdHBhdGhUb0ZpbGUoZmlsZXBhdGg6IHN0cmluZykge1xuXHRcdGNvbnN0IGZpbGUgPSB0aGlzLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgoZmlsZXBhdGgpO1xuXHRcdGlmIChmaWxlIGluc3RhbmNlb2YgVEZpbGUpIHJldHVybiBmaWxlO1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblx0Ly8gQ3Vyc29yIGhhbmRsaW5nXG5cdGFzeW5jIGp1bXBUb0N1cnNvcigpIHtcblx0XHRsZXQgYWN0aXZlRmlsZTogVEZpbGUgfCBudWxsID0gbnVsbDtcblx0XHRsZXQgYXR0ZW1wdHMgPSAwO1xuXG5cdFx0d2hpbGUgKCFhY3RpdmVGaWxlICYmIGF0dGVtcHRzIDwgTUFYX0FUVEVNUFRTKSB7XG5cdFx0XHRhY3RpdmVGaWxlID0gdGhpcy5nZXRBY3RpdmVGaWxlKCk7XG5cdFx0XHRhdHRlbXB0cysrO1xuXHRcdH1cblxuXHRcdGlmICghYWN0aXZlRmlsZSkge1xuXHRcdFx0Y29uc29sZS5sb2coXCJGYWlsZWQgdG8gZ2V0IHRoZSBhY3RpdmUgZmlsZS5cIik7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Y29uc3QgZmlsZSA9IHRoaXMuaG9va2VkRmlsZXMuZmluZChcblx0XHRcdChmOiBIb29rZWRGaWxlKSA9PiBmLnBhdGggPT09IGFjdGl2ZUZpbGU/LnBhdGhcblx0XHQpO1xuXG5cdFx0aWYgKCFmaWxlKSB7XG5cdFx0XHRjb25zb2xlLmxvZyhcIkFjdGl2ZSBmaWxlIGlzIG5vdCBmb3VuZCBpbiB0aGUgaG9va2VkIGZpbGVzLlwiKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0dGhpcy5zZXRDdXJzb3JQb3MoZmlsZS5jdXJzb3IgYXMgRWRpdG9yUG9zaXRpb24pO1xuXHR9XG5cblx0YXN5bmMgdXBkYXRlRmlsZShmaWxlOiBURmlsZSkge1xuXHRcdHJldHVybiB0aGlzLmhvb2tlZEZpbGVzLm1hcCgoZjogSG9va2VkRmlsZSkgPT4ge1xuXHRcdFx0aWYgKGYucGF0aCA9PT0gZmlsZS5wYXRoKSB7XG5cdFx0XHRcdGYuY3Vyc29yID0gdGhpcy5nZXRDdXJzb3JQb3MoKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdGFzeW5jIHdhaXQobXM6IG51bWJlcikge1xuXHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCBtcykpO1xuXHR9XG59XG4iLCAiZXhwb3J0IGNvbnN0IE1BWF9BVFRFTVBUUyA9IDEwO1xuZXhwb3J0IGNvbnN0IERFTEFZX01TID0gMzAwO1xuZXhwb3J0IGNvbnN0IENBQ0hFX0ZJTEUgPSBcImhhcnBvb24tY2FjaGUuanNvblwiO1xuIiwgImltcG9ydCB7IEFwcCwgTW9kYWwgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB7IEhvb2tlZEZpbGUgfSBmcm9tIFwiLi90eXBlc1wiO1xuaW1wb3J0IHsgSGFycG9vblV0aWxzIH0gZnJvbSBcIi4vdXRpbHNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSGFycG9vbk1vZGFsIGV4dGVuZHMgTW9kYWwge1xuXHRob29rZWRGaWxlczogSG9va2VkRmlsZVtdO1xuXHRob29rZWRGaWxlSWR4ID0gMDtcblx0d3JpdGVUb0NhY2hlOiAoaEZpbGVzOiBIb29rZWRGaWxlW10pID0+IHZvaWQ7XG5cdGxhc3RSZW1vdmVkOiBIb29rZWRGaWxlIHwgbnVsbDtcblx0bGFzdEtleVByZXNzVGltZSA9IDA7XG5cdHV0aWxzOiBIYXJwb29uVXRpbHM7XG5cblx0Y29uc3RydWN0b3IoXG5cdFx0YXBwOiBBcHAsXG5cdFx0d3JpdGVUb0NhY2hlOiAoaEZpbGVzOiBIb29rZWRGaWxlW10pID0+IHZvaWQsXG5cdFx0dXRpbHM6IEhhcnBvb25VdGlsc1xuXHQpIHtcblx0XHRzdXBlcihhcHApO1xuXHRcdHRoaXMuaG9va2VkRmlsZXMgPSB1dGlscy5ob29rZWRGaWxlcztcblx0XHR0aGlzLndyaXRlVG9DYWNoZSA9IHdyaXRlVG9DYWNoZTtcblx0XHR0aGlzLnV0aWxzID0gdXRpbHM7XG5cdH1cblxuXHQvLyBMaWZlY3ljbGUgbWV0aG9kc1xuXHRvbk9wZW4oKSB7XG5cdFx0dGhpcy51dGlscy5pc09wZW4gPSB0cnVlO1xuXHRcdHRoaXMuc2V0dXBVSSgpO1xuXHRcdHRoaXMucmVuZGVySG9va2VkRmlsZXMoKTtcblx0fVxuXG5cdG9uQ2xvc2UoKSB7XG5cdFx0dGhpcy51dGlscy5pc09wZW4gPSBmYWxzZTtcblx0XHR0aGlzLmNvbnRlbnRFbC5lbXB0eSgpO1xuXHR9XG5cblx0Ly8gVUkgaGVscGVyIG1ldGhvZHNcblx0c2V0dXBVSSgpIHtcblx0XHR0aGlzLnRpdGxlRWwuc2V0VGV4dChcIkhhcnBvb25cIik7XG5cdFx0dGhpcy50aXRsZUVsLmNsYXNzTmFtZSA9IFwiaW5saW5lLXRpdGxlXCI7XG5cdFx0dGhpcy5tb2RhbEVsLnRhYkluZGV4ID0gMDtcblx0fVxuXG5cdHJlbmRlckhvb2tlZEZpbGVzKCkge1xuXHRcdHRoaXMuY29udGVudEVsLmVtcHR5KCk7XG5cblx0XHRpZiAoIXRoaXMuaG9va2VkRmlsZXMubGVuZ3RoKSB7XG5cdFx0XHR0aGlzLmNvbnRlbnRFbC5jcmVhdGVFbChcInBcIiwgeyB0ZXh0OiBcIk5vIGhvb2tlZCBmaWxlc1wiIH0pO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHRoaXMuaG9va2VkRmlsZXMuZm9yRWFjaCgoaG9va2VkRmlsZSwgaWR4KSA9PiB7XG5cdFx0XHRjb25zdCBob29rZWRFbCA9IHRoaXMuY29udGVudEVsLmNyZWF0ZUVsKFwiZGl2XCIsIHtcblx0XHRcdFx0dGV4dDogYCR7aWR4ICsgMX0uICR7aG9va2VkRmlsZS5wYXRofWAsXG5cdFx0XHRcdGNsczogXCJob29rZWQtZmlsZSB0cmVlLWl0ZW0tc2VsZiBpcy1jbGlja2FibGUgbmF2LWZpbGUtdGl0bGVcIixcblx0XHRcdH0pO1xuXHRcdFx0aG9va2VkRWwuZGF0YXNldC5pZCA9IGBob29rZWQtZmlsZS0ke2lkeH1gO1xuXHRcdFx0aG9va2VkRWwuaWQgPSBgaG9va2VkLWZpbGUtJHtpZHh9YDtcblx0XHR9KTtcblxuXHRcdHRoaXMuaG9va2VkRmlsZUlkeCA9IDA7XG5cdFx0dGhpcy5oaWdobGlnaHRIb29rZWRGaWxlKDApO1xuXHR9XG5cblx0aGlnaGxpZ2h0SG9va2VkRmlsZShpZHg6IG51bWJlcikge1xuXHRcdGNvbnN0IGhvb2tlZEVsZW1lbnRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImhvb2tlZC1maWxlXCIpO1xuXHRcdEFycmF5LmZyb20oaG9va2VkRWxlbWVudHMpLmZvckVhY2goKGVsZW1lbnQ6IEhUTUxFbGVtZW50KSA9PiB7XG5cdFx0XHRlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJpcy1hY3RpdmVcIik7XG5cdFx0fSk7XG5cblx0XHRjb25zdCBob29rZWRFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBob29rZWQtZmlsZS0ke2lkeH1gKTtcblx0XHRob29rZWRFbD8uY2xhc3NMaXN0LmFkZChcImlzLWFjdGl2ZVwiKTtcblx0fVxuXG5cdC8vIEFjdGlvbiBoYW5kbGVyc1xuXHRoYW5kbGVTZWxlY3Rpb24oaW5kZXg6IG51bWJlcikge1xuXHRcdGNvbnN0IGlzTm90QWN0aXZlID1cblx0XHRcdHRoaXMudXRpbHMuZ2V0QWN0aXZlRmlsZSgpPy5wYXRoICE9PSB0aGlzLmhvb2tlZEZpbGVzW2luZGV4XS5wYXRoO1xuXHRcdGlmIChpc05vdEFjdGl2ZSkge1xuXHRcdFx0Y29uc3QgZmlsZVRvT3BlbiA9IHRoaXMudXRpbHMuZ2V0SG9va2VkRmlsZShcblx0XHRcdFx0dGhpcy5ob29rZWRGaWxlc1tpbmRleF0ucGF0aFxuXHRcdFx0KTtcblx0XHRcdHRoaXMudXRpbHMuZ2V0TGVhZigpLm9wZW5GaWxlKGZpbGVUb09wZW4pO1xuXHRcdFx0dGhpcy51dGlscy5qdW1wVG9DdXJzb3IoKTtcblx0XHRcdHRoaXMuY2xvc2UoKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0dGhpcy5jbG9zZSgpO1xuXHR9XG5cblx0cmVtb3ZlRnJvbUhhcnBvb24oaWR4OiBudW1iZXIpIHtcblx0XHRpZiAoaWR4ID49IDAgJiYgaWR4IDwgdGhpcy5ob29rZWRGaWxlcy5sZW5ndGgpIHtcblx0XHRcdHRoaXMubGFzdFJlbW92ZWQgPSB0aGlzLmhvb2tlZEZpbGVzLnNwbGljZShpZHgsIDEpWzBdO1xuXHRcdFx0dGhpcy53cml0ZVRvQ2FjaGUodGhpcy5ob29rZWRGaWxlcyk7XG5cdFx0XHR0aGlzLnJlbmRlckhvb2tlZEZpbGVzKCk7XG5cdFx0fVxuXHR9XG5cblx0aW5zZXJ0RmlsZUF0KHBvczogbnVtYmVyKSB7XG5cdFx0aWYgKFxuXHRcdFx0dGhpcy5sYXN0UmVtb3ZlZCAmJlxuXHRcdFx0IXRoaXMuaG9va2VkRmlsZXMuaW5jbHVkZXModGhpcy5sYXN0UmVtb3ZlZCkgJiZcblx0XHRcdHRoaXMuaG9va2VkRmlsZXMubGVuZ3RoIDw9IDRcblx0XHQpIHtcblx0XHRcdHRoaXMuaG9va2VkRmlsZXMuc3BsaWNlKHBvcywgMCwgdGhpcy5sYXN0UmVtb3ZlZCk7XG5cdFx0XHR0aGlzLndyaXRlVG9DYWNoZSh0aGlzLmhvb2tlZEZpbGVzKTtcblx0XHRcdHRoaXMucmVuZGVySG9va2VkRmlsZXMoKTtcblx0XHR9XG5cdH1cblxuXHRtb3ZlU2VsZWN0aW9uKGRpcmVjdGlvbjogbnVtYmVyKSB7XG5cdFx0dGhpcy5ob29rZWRGaWxlSWR4ID0gTWF0aC5tYXgoXG5cdFx0XHQwLFxuXHRcdFx0TWF0aC5taW4odGhpcy5ob29rZWRGaWxlSWR4ICsgZGlyZWN0aW9uLCAzKVxuXHRcdCk7XG5cdH1cblxuXHRyZXNldFNlbGVjdGlvbigpIHtcblx0XHR0aGlzLmhvb2tlZEZpbGVJZHggPVxuXHRcdFx0dGhpcy5ob29rZWRGaWxlSWR4ID09PSAwID8gdGhpcy5ob29rZWRGaWxlcy5sZW5ndGggLSAxIDogMDtcblx0fVxufVxuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLElBQUFBLG1CQUFtRDs7O0FDQW5ELHNCQUEyQzs7O0FDQXBDLElBQU0sZUFBZTtBQUVyQixJQUFNLGFBQWE7OztBREVuQixJQUFNLGVBQU4sTUFBbUI7QUFBQSxFQUt6QixZQUFZLEtBQVU7QUFKdEIsa0JBQVM7QUFDVCx1QkFBNEIs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
